{"version":3,"sources":["components/videoPlayer.js","App.js","index.js"],"names":["VideoPlayer","useState","links","setLinks","videoUrl","setvideoUrl","hasError","setHasError","inputLink","useRef","handlePlaylist","currentLink","onDeletePlaylist","index","a","splice","className","type","onKeyDown","e","val","target","value","key","match","find","tag","ref","c","placeholder","length","width","height","controls","url","playing","onEnded","indexOf","onVideoEnd","onDragEnd","result","destination","videoLinks","list","startIndex","endIndex","removed","reorderPlaylist","source","droppableId","provided","droppableProps","innerRef","map","videoLink","idx","draggableId","draggableProps","dragHandleProps","onClick","src","alt","newLinks","removeLink","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"uWA2JeA,G,MAtJY,WAAO,IAAD,EAELC,mBAAS,IAFJ,mBAExBC,EAFwB,KAEjBC,EAFiB,OAGCF,mBAAS,IAHV,mBAGxBG,EAHwB,KAGdC,EAHc,OAICJ,oBAAS,GAJV,mBAIxBK,EAJwB,KAIdC,EAJc,KAM3BC,EAAYC,iBAAO,MA2CjBC,EAAiB,SAAAC,GACrBN,EAAYM,IAGRC,EAAgB,uCAAG,WAAMC,GAAN,SAAAC,EAAA,sDACvBZ,EAAMa,OAAOF,EAAO,GACpBV,EAASD,GAEK,IAAVW,GACFH,EAAeR,EAAM,IALA,2CAAH,sDAetB,OACE,yBAAKc,UAAU,aACb,2BACEC,KAAK,OACLC,UA1DgB,SAAAC,GACpB,IAAMC,EAAMD,EAAEE,OAAOC,MACrB,GAAc,UAAVH,EAAEI,KAAmBH,EAAK,CAE5B,GAAIA,EAAII,MADA,wHACU,CAEhB,GADAjB,GAAY,GACRL,EAAMuB,MAAK,SAAAC,GAAG,OAAIA,IAAQN,KAAM,OACpCjB,EAAS,GAAD,mBAAKD,GAAL,CAAYkB,KACpBZ,EAAUc,MAAQ,KAClBZ,EAAeU,QAEfb,GAAY,KAgDZS,UAAU,YACVW,IAAK,SAAAC,GACHpB,EAAYoB,GAEdC,YAAY,4EAGbvB,GACC,0BAAMU,UAAU,SAAhB,4FAKF,yBAAKA,UAAU,QACb,yBAAKA,UAAU,mBACZd,EAAM4B,OACL,kBAAC,IAAD,CACEC,MAAM,OACNC,OAAO,OACPC,UAAU,EACVjB,UAAU,eACVkB,IAAK9B,EACL+B,SAAS,EACTC,QAAS,kBAlCF,WACjB,IAAMvB,EAAQX,EAAMmC,QAAQjC,GAC5BQ,EAAiBC,GACjBH,EAAeR,EAAM,IA+BIoC,MAEf,MAEN,yBAAKtB,UAAU,YACb,wBAAIA,UAAU,QAAd,YACA,6BACA,kBAAC,IAAD,CAAiBuB,UAlEP,SAAAC,GAChB,GAAKA,EAAOC,YAAZ,CAGA,IAAMC,EAXgB,SAACC,EAAMC,EAAYC,GACzC,IAAML,EAASG,EADuC,EAEpCH,EAAOzB,OAAO6B,EAAY,GAArCE,EAF+C,oBAItD,OADAN,EAAOzB,OAAO8B,EAAU,EAAGC,GACpBN,EAOYO,CACjB7C,EACAsC,EAAOQ,OAAOnC,MACd2B,EAAOC,YAAY5B,OAErBV,EAASuC,MA0DD,kBAAC,IAAD,CAAWO,YAAY,cACpB,SAAAC,GAAQ,OACP,yCAASA,EAASC,eAAlB,CAAkCxB,IAAKuB,EAASE,WAC7ClD,EAAMmD,KAAI,SAACC,EAAWC,GAAZ,OACT,yBAAKhC,IAAKgC,GACR,kBAAC,IAAD,CACEhC,IAAK+B,EACLE,YAAaF,EACbzC,MAAO0C,IAEN,SAAAL,GAAQ,OACP,uCACEvB,IAAKuB,EAASE,UACVF,EAASO,eACTP,EAASQ,iBAEb,yBACEC,QAAS,kBAAMjD,EAAe4C,IAC9BtC,UAAS,gBAAWsC,EAAY,WAAa,KAE5CA,EACD,yBACEM,IAAI,kBACJ5C,UAAU,SACV6C,IAAI,SACJF,QAAS,YAzHpB,SAAAJ,GACjB,IAAMO,EAAQ,YAAO5D,GACrB4D,EAAS/C,OAAOwC,EAAK,GACrBpD,EAAS2D,GAuHqBC,CAAWR,eAS1BL,EAASrB,sBCpIbmC,MARf,WACE,OACE,yBAAKhD,UAAU,OACb,kBAAC,EAAD,QCFNiD,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.cbceb2b0.chunk.js","sourcesContent":["import React, { useState, useRef } from \"react\";\r\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\r\nimport ReactPlayer from \"react-player\";\r\nimport \"../App.css\";\r\n\r\nexport const VideoPlayer = () => {\r\n\r\n  const [links, setLinks] = useState([]);\r\n  const [videoUrl, setvideoUrl] = useState(\"\");\r\n  const [hasError, setHasError] = useState(false);\r\n\r\n  var inputLink = useRef(null);\r\n\r\n  const removeLink = idx => {\r\n    const newLinks = [...links];\r\n    newLinks.splice(idx, 1);\r\n    setLinks(newLinks);\r\n  };\r\n\r\n  const handleKeydown = e => {\r\n    const val = e.target.value;\r\n    if (e.key === \"Enter\" && val) {\r\n      var p = /^(?:https?:\\/\\/)?(?:www\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))((\\w|-){11})(?:\\S+)?$/;\r\n      if (val.match(p)) {\r\n        setHasError(false);\r\n        if (links.find(tag => tag === val)) return;\r\n        setLinks([...links, val]);\r\n        inputLink.value = null;\r\n        handlePlaylist(val);\r\n      } else {\r\n        setHasError(true);\r\n      }\r\n    }\r\n  };\r\n\r\n  const reorderPlaylist = (list, startIndex, endIndex) => {\r\n    const result = list;\r\n    const [removed] = result.splice(startIndex, 1);\r\n    result.splice(endIndex, 0, removed);\r\n    return result;\r\n  };\r\n\r\n  const onDragEnd = result => {\r\n    if (!result.destination) {\r\n      return;\r\n    }\r\n    const videoLinks = reorderPlaylist(\r\n      links,\r\n      result.source.index,\r\n      result.destination.index\r\n    );\r\n    setLinks(videoLinks);\r\n  };\r\n\r\n  const handlePlaylist = currentLink => {\r\n    setvideoUrl(currentLink);\r\n  };\r\n\r\n  const onDeletePlaylist = async index => {\r\n    links.splice(index, 1);\r\n    setLinks(links);\r\n\r\n    if (index === 0) {\r\n      handlePlaylist(links[0]);\r\n    }\r\n  };\r\n\r\n  const onVideoEnd = () => {\r\n    const index = links.indexOf(videoUrl);\r\n    onDeletePlaylist(index);\r\n    handlePlaylist(links[0]);\r\n  };\r\n  \r\n  return (\r\n    <div className=\"ytb_input\">\r\n      <input\r\n        type=\"text\"\r\n        onKeyDown={handleKeydown}\r\n        className=\"input-url\"\r\n        ref={c => {\r\n          inputLink = c;\r\n        }}\r\n        placeholder=\"Add youtube link ( eg :\r\n          https://www.youtube.com/watch?v=OulN7vTDq1I )\"\r\n      />\r\n      {hasError && (\r\n        <span className=\"error\">\r\n          Please add a valid youtube link url ( eg :\r\n          https://www.youtube.com/watch?v=OulN7vTDq1I )\r\n        </span>\r\n      )}\r\n      <div className=\"card\">\r\n        <div className=\"player-wrapper \">\r\n          {links.length ? (\r\n            <ReactPlayer\r\n              width=\"100%\"\r\n              height=\"100%\"\r\n              controls={true}\r\n              className=\"react-player\"\r\n              url={videoUrl}\r\n              playing={true}\r\n              onEnded={() => onVideoEnd()}\r\n            />\r\n          ) : null}\r\n        </div>\r\n        <div className=\"playlist\">\r\n          <h4 className=\"text\">PLAYLIST</h4>\r\n          <hr></hr>\r\n          <DragDropContext onDragEnd={onDragEnd}>\r\n            <Droppable droppableId=\"droppable\">\r\n              {provided => (\r\n                <div {...provided.droppableProps} ref={provided.innerRef}>\r\n                  {links.map((videoLink, idx) => (\r\n                    <div key={idx}>\r\n                      <Draggable\r\n                        key={videoLink}\r\n                        draggableId={videoLink}\r\n                        index={idx}\r\n                      >\r\n                        {provided => (\r\n                          <div\r\n                            ref={provided.innerRef}\r\n                            {...provided.draggableProps}\r\n                            {...provided.dragHandleProps}\r\n                          >\r\n                            <div\r\n                              onClick={() => handlePlaylist(videoLink)}\r\n                              className={`links ${videoLink ? \"add-link\" : \"\"}`}\r\n                            >\r\n                              {videoLink}\r\n                              <img\r\n                                src=\"../../close.png\"\r\n                                className=\"delete\"\r\n                                alt=\"delete\"\r\n                                onClick={() => {\r\n                                  removeLink(idx);\r\n                                }}\r\n                              />\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      </Draggable>\r\n                    </div>\r\n                  ))}\r\n                  {provided.placeholder}\r\n                </div>\r\n              )}\r\n            </Droppable>\r\n          </DragDropContext>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoPlayer;\r\n","import React from \"react\";\r\nimport VideoPlayer from \"./components/videoPlayer\";\r\nimport \"./App.css\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <VideoPlayer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n"],"sourceRoot":""}